/*   
Template Name: Color Admin - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.3.1
Version: 1.5.0
Author: Sean Ngu
Website: http://www.seantheme.com/color-admin-v1.5/admin/
*/
// 跳转至页面，对应的菜单颜色改变
if(window.parent) {
    if(window.parent.document) {
        var href = location.href.match(/([^\/]+\/[^\/]+).html/);
        if(href) {
            href = '#'+ href[1];
        }
        $('.childLink', $(window.parent.document)).each(function() {
            if($(this).attr('href') == href) {
                $('li', $(window.parent.document)).removeClass('active');
                $(this).parents('li').addClass('active');
            }
        });
    }
}
$('.btn-scroll-to-top').css('background', '#348FE3')
var handelTooltipPopoverActivation = function() {
    "use strict";
    $("[data-toggle=tooltip]").tooltip();
    $("[data-toggle=popover]").popover()
};
var handleScrollToTopButton = function() {
    "use strict";
    $(document).scroll(function() {
        var e = $(document).scrollTop();
        if (e >= 200) {
            $("[data-click=scroll-top]").addClass("in")
        } else {
            $("[data-click=scroll-top]").removeClass("in")
        }
    });
    $("[data-click=scroll-top]").click(function(e) {
        e.preventDefault();
        $("html, body").animate({
            scrollTop: $("body").offset().top
        },
        500)
    })
};
var handleAfterPageLoadAddClass = function() {
    if ($("[data-pageload-addclass]").length !== 0) {
        $(window).load(function() {
            $("[data-pageload-addclass]").each(function() {
                var e = $(this).attr("data-pageload-addclass");
                $(this).addClass(e)
            })
        })
    }
};


var load=function(){   //判断当前页面是不是在iframe中，如果在其中F5只刷新iframe中页面
	if (self.frameElement && self.frameElement.tagName == "IFRAME") {    
        $(document).keydown(function(event){
		　　　　if(event.keyCode == 116){
		　　　　　　event.preventDefault();
					location=location;
		　　　　}
		　　});   
	}  
};

var App = function() {
    "use strict";
    return {
        init: function() {
            handleAfterPageLoadAddClass();
            handelTooltipPopoverActivation();
            handleScrollToTopButton();
			load();
        }
    }
} ()